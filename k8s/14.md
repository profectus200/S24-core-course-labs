# Task 1

## Components

- Prometheus Operator: Facilitates the deployment and management of Prometheus instances within Kubernetes.
- Prometheus: A system that gathers and stores metrics for clusters.
- Alertmanager: Handles and directs alerts generated by Prometheus.
- Prometheus Node Exporter: Gathers hardware and OS metrics from Kubernetes nodes to aid in monitoring.
- Prometheus Blackbox Exporter: Probes external endpoints and converts the results into metrics.
- Prometheus Adapter for Kubernetes Metrics APIs: Bridges metrics between Kubernetes Metrics API and Prometheus.
kube-state-metrics: Retrieves metrics from Kubernetes clusters for monitoring purposes.
- Grafana: Enables querying and visualizing Prometheus data.

```
$ kubectl get po,sts,svc,pvc,cm

NAME                                                         READY   STATUS             RESTARTS   AGE
pod/alertmanager-test-kube-prometheus-stack-alertmanager-0   2/2     Running            0          43s
pod/app-python-5756db44f-zchrr                               0/1     ImagePullBackOff   0          28d
pod/postinstall-hook                                         0/1     Completed          0          28d
pod/preinstall-hook                                          0/1     Completed          0          28d
pod/prometheus-test-kube-prometheus-stack-prometheus-0       2/2     Running            0          40s
pod/test-grafana-655667766c-r5lcw                            3/3     Running            0          48s
pod/test-kube-prometheus-stack-operator-854b6f749d-lz4v2     1/1     Running            0          48s
pod/test-kube-state-metrics-6b8fc945db-pxq4p                 1/1     Running            0          48s
pod/test-prometheus-node-exporter-rzdz6                      1/1     Running            0          48s

NAME                                                                    READY   AGE
statefulset.apps/alertmanager-test-kube-prometheus-stack-alertmanager   1/1     43s
statefulset.apps/prometheus-test-kube-prometheus-stack-prometheus       1/1     40s

NAME                                              TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)                      AGE
service/alertmanager-operated                     ClusterIP   None             <none>        9093/TCP,9094/TCP,9094/UDP   43s
service/app-python                                ClusterIP   10.99.199.215    <none>        5000/TCP                     28d
service/kubernetes                                ClusterIP   10.96.0.1        <none>        443/TCP                      28d
service/prometheus-operated                       ClusterIP   None             <none>        9090/TCP                     40s
service/test-grafana                              ClusterIP   10.109.34.229    <none>        80/TCP                       48s
service/test-kube-prometheus-stack-alertmanager   ClusterIP   10.99.167.207    <none>        9093/TCP,8080/TCP            48s
service/test-kube-prometheus-stack-operator       ClusterIP   10.104.116.46    <none>        443/TCP                      48s
service/test-kube-prometheus-stack-prometheus     ClusterIP   10.104.217.119   <none>        9090/TCP,8080/TCP            48s
service/test-kube-state-metrics                   ClusterIP   10.108.192.154   <none>        8080/TCP                     48s
service/test-prometheus-node-exporter             ClusterIP   10.110.19.206    <none>        9100/TCP                     48s

NAME                                                                     DATA   AGE
configmap/kube-root-ca.crt                                               1      28d
configmap/prometheus-test-kube-prometheus-stack-prometheus-rulefiles-0   35     42s
configmap/test-grafana                                                   1      49s
configmap/test-grafana-config-dashboards                                 1      49s
configmap/test-kube-prometheus-stack-alertmanager-overview               1      49s
configmap/test-kube-prometheus-stack-apiserver                           1      49s
configmap/test-kube-prometheus-stack-cluster-total                       1      49s
configmap/test-kube-prometheus-stack-controller-manager                  1      49s
configmap/test-kube-prometheus-stack-etcd                                1      49s
configmap/test-kube-prometheus-stack-grafana-datasource                  1      49s
configmap/test-kube-prometheus-stack-grafana-overview                    1      48s
configmap/test-kube-prometheus-stack-k8s-coredns                         1      48s
configmap/test-kube-prometheus-stack-k8s-resources-cluster               1      49s
configmap/test-kube-prometheus-stack-k8s-resources-multicluster          1      49s
configmap/test-kube-prometheus-stack-k8s-resources-namespace             1      49s
configmap/test-kube-prometheus-stack-k8s-resources-node                  1      49s
configmap/test-kube-prometheus-stack-k8s-resources-pod                   1      49s
configmap/test-kube-prometheus-stack-k8s-resources-workload              1      49s
configmap/test-kube-prometheus-stack-k8s-resources-workloads-namespace   1      49s
configmap/test-kube-prometheus-stack-kubelet                             1      49s
configmap/test-kube-prometheus-stack-namespace-by-pod                    1      49s
configmap/test-kube-prometheus-stack-namespace-by-workload               1      49s
configmap/test-kube-prometheus-stack-node-cluster-rsrc-use               1      49s
configmap/test-kube-prometheus-stack-node-rsrc-use                       1      49s
configmap/test-kube-prometheus-stack-nodes                               1      49s
configmap/test-kube-prometheus-stack-nodes-darwin                        1      49s
configmap/test-kube-prometheus-stack-persistentvolumesusage              1      49s
configmap/test-kube-prometheus-stack-pod-total                           1      49s
configmap/test-kube-prometheus-stack-prometheus                          1      49s
configmap/test-kube-prometheus-stack-proxy                               1      49s
configmap/test-kube-prometheus-stack-scheduler                           1      49s
configmap/test-kube-prometheus-stack-workload-total                      1      49s
```

This output shows:
- Pods from Kube Prometheus Stack
- Stateful sets from Kube Prometheus Stack
- Services from Kube Prometheus Stack
- Config maps from Kube Prometheus Stack


## Screenshots

![](./screenshots/workload.png)

![](./screenshots/pods.png)

![](./screenshots/memory.png)

![](./screenshots/kubelet.png)

![](./screenshots/network.png)

![](./screenshots/alerts.png)

![](./screenshots/alertmanager.png)

# Task 2

```
$ kubectl exec pod/app-python-0 -- cat /static-files/index.html

Defaulted container "app-python" out of: app-python, install (init)
<html><head></head><body><header>
<title>http://info.cern.ch</title>
</header>
<h1>http://info.cern.ch - home of the first website</h1>
<p>From here you can:</p>
<ul>
<li><a href="http://info.cern.ch/hypertext/WWW/TheProject.html">Browse the first website</a></li>
<li><a href="http://line-mode.cern.ch/www/hypertext/WWW/TheProject.html">Browse the first website using the line-mode browser simulator</a></li>
<li><a href="http://home.web.cern.ch/topics/birth-web">Learn about the birth of the web</a></li>
<li><a href="http://home.web.cern.ch/about">Learn about CERN, the physics laboratory where the web was born</a></li>
</ul>
</body></html>
```

```
$ kubectl exec pod/app-python-0 -- cat /static-files/queue

Defaulted container "app-python" out of: app-python, install (init), queue-1 (init), queue-2 (init)
hello
world
```